<template>
  <div class="container">
    <h1>üí∏ –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —Ç—Ä–µ–∫–µ—Ä</h1>
    <p>–ë–∞–ª–∞–Ω—Å: <strong>{{ balance }} ‚ÇΩ</strong></p>

    <h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏</h2>
    <ul>
      <li v-for="tx in store.transactions" :key="tx.id">
        {{ tx.date }} ‚Äî {{ tx.category }} ‚Äî
        <span :style="{ color: tx.type === 'income' ? 'lightgreen' : 'tomato' }">
          {{ tx.type === 'income' ? '+' : '-' }}{{ tx.amount }} ‚ÇΩ
        </span>
      </li>
    </ul>

    <router-link to="/add">
      <button>–î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é</button>
    </router-link>
  </div>
</template>

<script setup lang="ts">
import { useTransactionStore } from '../stores/transactions'
import { computed } from 'vue'

const store = useTransactionStore()
const balance = computed(() => store.balance)
</script>
